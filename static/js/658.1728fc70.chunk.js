"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[658],{158:(t,e,c)=>{c.d(e,{Z:()=>r});const a=c.p+"static/media/icons8-error.18296097f9db111fb097.gif";var s=c(184);const r=()=>(0,s.jsx)("img",{src:a,alt:"Error",style:{margin:"0 auto",alignSelf:"center",transform:"scale(1.1)"}})},704:(t,e,c)=>{c.r(e),c.d(e,{default:()=>g});var a=c(791),s=c(87),r=c(304),n=c(986),i=c(158),o=c(184);const l=t=>{let{comics:e}=t;return e.map((t=>(0,o.jsx)("li",{className:"comics__item",children:(0,o.jsxs)(s.rU,{to:"/comics/".concat(t.id),children:[(0,o.jsx)("img",{src:t.thumbnail,alt:t.title,className:"comics__item-img"}),(0,o.jsx)("div",{className:"comics__item-name",children:t.title}),(0,o.jsx)("div",{className:"comics__item-price",children:t.price})]})},t.id)))},m=t=>{const{loading:e,error:c,getAllComics:s,clearError:m}=(0,r.Z)(),[d,u]=(0,a.useState)([]),[h,g]=(0,a.useState)(5e3),[p,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{x(h,!0)}),[]);const x=(t,e)=>{m(),b(!e),s(t).then(j)},j=t=>{console.log(t),u([...d,...t]),g(h+8),b(!1)},f=(0,o.jsx)(l,{comics:d}),v=c?(0,o.jsx)(i.Z,{}):null,_=e&&!p?(0,o.jsx)(n.Z,{}):null;return(0,o.jsxs)("div",{className:"comics__list",children:[v,_,(0,o.jsx)("ul",{className:"comics__grid",children:f}),(0,o.jsx)("button",{className:"button button__main button__long",onClick:()=>x(h),disabled:p,children:(0,o.jsx)("div",{className:"inner",children:"load more"})})]})},d=c.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",u=c.p+"static/media/Avengers_logo.9eaf219344d83362e830.png",h=()=>(0,o.jsxs)("div",{className:"app__banner",children:[(0,o.jsx)("img",{src:d,alt:"Avengers"}),(0,o.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,o.jsx)("br",{}),"Stay tuned!"]}),(0,o.jsx)("img",{src:u,alt:"Avengers logo"})]}),g=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h,{}),(0,o.jsx)(m,{})]})},304:(t,e,c)=>{c.d(e,{Z:()=>s});var a=c(791);const s=()=>{const{loading:t,request:e,error:c,clearError:s}=(()=>{const[t,e]=(0,a.useState)(!1),[c,s]=(0,a.useState)(null);return{loading:t,request:(0,a.useCallback)((async function(t){let{method:c="GET",body:a=null,headers:r={"Content-Type":"application/json"}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(!0);try{const s=await fetch(t,{method:c,body:a,headers:r});if(!s.ok)throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));const n=await s.json();return e(!1),n}catch(n){e(!1),s(n.message)}}),[]),error:c,clearError:(0,a.useCallback)((()=>s(null)),[])}})(),r="https://gateway.marvel.com:443/v1/public/",n="apikey=5f6e9a2d10bb9d4917e2be5fc239d5d5",i=t=>({name:t.name,id:t.id,description:t.description?"".concat(t.description.slice(0,210)," ..."):"There is no description for this character",thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,homepage:t.urls[0].url,wiki:t.urls[1].url,comics:t.comics.items}),o=(t,e)=>{let c="No information";return t.textObjects&&t.textObjects[0]&&t.textObjects[0].language&&""!==t.textObjects[0].language&&e&&(c=t.textObjects[0].language),{title:t.title,id:t.id,thumbnail:t.thumbnail.path+"."+t.thumbnail.extension,description:t.description?t.description:"There is no description for this comic",pages:t.pageCount,languages:c,price:0===t.prices[0].price?"NOT AVAILABLE":"$".concat(t.prices[0].price)}};return{loading:t,error:c,getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;try{return(await e("".concat(r,"characters?limit=9&offset=").concat(t,"&").concat(n))).data.results.map((t=>i(t)))}catch(c){}},getCharacter:async t=>{try{const c=await e("".concat(r,"characters/").concat(t,"?").concat(n));return i(c.data.results[0])}catch(c){}},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;try{return(await e("".concat(r,"comics?limit=8&offset=").concat(t,"&").concat(n))).data.results.map((t=>o(t)))}catch(c){}},getComic:async t=>{try{const c=await e("".concat(r,"comics/").concat(t,"?").concat(n));return o(c.data.results[0],!0)}catch(c){}},clearError:s}}}}]);
//# sourceMappingURL=658.1728fc70.chunk.js.map