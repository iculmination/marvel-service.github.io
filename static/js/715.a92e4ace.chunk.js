"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[715],{158:(e,c,t)=>{t.d(c,{Z:()=>r});const a=t.p+"static/media/icons8-error.18296097f9db111fb097.gif";var s=t(184);const r=()=>(0,s.jsx)("img",{src:a,alt:"Error",style:{margin:"0 auto",alignSelf:"center",transform:"scale(1.1)"}})},493:(e,c,t)=>{t.r(c),t.d(c,{default:()=>u});var a=t(791),s=t(689),r=t(87),n=t(158),i=t(986),o=t(304),l=t(184);const m=e=>{let{comic:c}=e;return(0,l.jsxs)("div",{className:"single-comic",children:[(0,l.jsx)("img",{src:c.thumbnail,alt:"x-men",className:"single-comic__img"}),(0,l.jsxs)("div",{className:"single-comic__info",children:[(0,l.jsx)("h2",{className:"single-comic__name",children:c.title}),(0,l.jsx)("p",{className:"single-comic__descr",children:c.description}),(0,l.jsxs)("p",{className:"single-comic__descr",children:[c.pages," pages"]}),(0,l.jsxs)("p",{className:"single-comic__descr",children:["Language: ",c.languages]}),(0,l.jsx)("div",{className:"single-comic__price",children:c.price})]}),(0,l.jsx)(r.rU,{to:"../comics",className:"single-comic__back",children:"Back to all"})]},c.id)},u=()=>{const{comicId:e}=(0,s.UO)(),[c,t]=(0,a.useState)({}),{error:r,loading:u,getComic:d,clearError:h}=(0,o.Z)();(0,a.useEffect)((()=>{g()}),[]);const g=()=>{h(),d(e).then(p)},p=e=>{console.log(e),t(e)},f=r?(0,l.jsx)(n.Z,{}):null,b=u?(0,l.jsx)(i.Z,{}):null,x=r||u?null:(0,l.jsx)(m,{comic:c});return(0,l.jsxs)(l.Fragment,{children:[f,b,x]})}},304:(e,c,t)=>{t.d(c,{Z:()=>s});var a=t(791);const s=()=>{const{loading:e,request:c,error:t,clearError:s}=(()=>{const[e,c]=(0,a.useState)(!1),[t,s]=(0,a.useState)(null);return{loading:e,request:(0,a.useCallback)((async function(e){let{method:t="GET",body:a=null,headers:r={"Content-Type":"application/json"}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(!0);try{const s=await fetch(e,{method:t,body:a,headers:r});if(!s.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(s.status));const n=await s.json();return c(!1),n}catch(n){c(!1),s(n.message)}}),[]),error:t,clearError:(0,a.useCallback)((()=>s(null)),[])}})(),r="https://gateway.marvel.com:443/v1/public/",n="apikey=5f6e9a2d10bb9d4917e2be5fc239d5d5",i=e=>({name:e.name,id:e.id,description:e.description?"".concat(e.description.slice(0,210)," ..."):"There is no description for this character",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),o=(e,c)=>{let t="No information";return e.textObjects&&e.textObjects[0]&&e.textObjects[0].language&&""!==e.textObjects[0].language&&c&&(t=e.textObjects[0].language),{title:e.title,id:e.id,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,description:e.description?e.description:"There is no description for this comic",pages:e.pageCount,languages:t,price:0===e.prices[0].price?"NOT AVAILABLE":"$".concat(e.prices[0].price)}};return{loading:e,error:t,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;try{return(await c("".concat(r,"characters?limit=9&offset=").concat(e,"&").concat(n))).data.results.map((e=>i(e)))}catch(t){}},getCharacter:async e=>{try{const t=await c("".concat(r,"characters/").concat(e,"?").concat(n));return i(t.data.results[0])}catch(t){}},getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;try{return(await c("".concat(r,"comics?limit=8&offset=").concat(e,"&").concat(n))).data.results.map((e=>o(e)))}catch(t){}},getComic:async e=>{try{const t=await c("".concat(r,"comics/").concat(e,"?").concat(n));return o(t.data.results[0],!0)}catch(t){}},clearError:s}}}}]);
//# sourceMappingURL=715.a92e4ace.chunk.js.map